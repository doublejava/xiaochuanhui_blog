# top 命令

## 命令简介
`top` 命令用于动态显示系统的进程状态，实时监控系统资源使用情况。

## 语法
```bash
top [选项]
```

## 常用选项
- `-d`：设置刷新间隔，如 `-d 2` 表示每2秒刷新一次
- `-p`：显示指定PID的进程
- `-u`：显示指定用户的进程
- `-H`：显示线程信息
- `-i`：不显示闲置进程
- `-c`：显示完整的命令行

## 交互命令
在 `top` 界面中可以使用以下按键：
- `h`：显示帮助信息
- `k`：终止指定PID的进程
- `r`：修改指定PID进程的优先级
- `f`：自定义显示字段
- `M`：按内存使用率排序
- `P`：按CPU使用率排序
- `T`：按CPU时间排序
- `q`：退出 `top`
- `1`：显示所有CPU核心的使用情况
- `z`：切换彩色显示

## 示例
1. 启动top命令：
   ```bash
   top
   ```

2. 设置2秒刷新一次：
   ```bash
   top -d 2
   ```

3. 显示指定用户的进程：
   ```bash
   top -u user
   ```

4. 显示指定PID的进程：
   ```bash
   top -p 1234,5678
   ```

5. 显示完整命令行：
   ```bash
   top -c
   ```

## 输出解释
顶部显示的系统信息：
- `top - 14:30:00 up 2 days, 14:30,  1 user,  load average: 0.50, 0.75, 0.80`：系统时间、运行时间、登录用户数、负载平均值
- `Tasks: 200 total,   1 running, 199 sleeping,   0 stopped,   0 zombie`：进程总数、运行中、睡眠中、停止、僵尸进程数
- `%Cpu(s):  5.0 us,  2.0 sy,  0.0 ni, 92.0 id,  1.0 wa,  0.0 hi,  0.0 si,  0.0 st`：CPU使用率（用户、系统、 nice、空闲、等待IO、硬中断、软中断、虚拟机窃取）
- `MiB Mem :   8192.0 total,   4096.0 free,   2048.0 used,   2048.0 buff/cache`：内存使用情况
- `MiB Swap:   4096.0 total,   4096.0 free,      0.0 used.   5120.0 avail Mem`：交换分区使用情况

## 注意事项
- 默认按CPU使用率排序
- 按 `q` 键退出
- 可以使用 `htop` 命令获得更友好的界面（需要安装）
- 实时监控系统资源使用情况，适合排查性能问题